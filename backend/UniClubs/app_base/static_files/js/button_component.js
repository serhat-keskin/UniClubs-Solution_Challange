!function(){var e=function(e){var t,a,n,r,i;this.element=e,this.select=this.element.getElementsByTagName("select")[0],this.options=this.select.getElementsByTagName("option"),this.selectedOption=function(e){var t="";t="selectedIndex"in e.select?e.options[e.select.selectedIndex].text:e.select.querySelector("option[selected]").text;return t}(this),this.pickerId=this.select.getAttribute("id"),this.trigger=!1,this.dropdown=!1,this.firstLanguage=!1,this.arrowSvgPath='<svg viewBox="0 0 16 16"><polygon points="3,5 8,11 13,5 "></polygon></svg>',this.globeSvgPath='<svg viewBox="0 0 16 16"><path d="M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M13.9,7H12c-0.1-1.5-0.4-2.9-0.8-4.1 C12.6,3.8,13.6,5.3,13.9,7z M8,14c-0.6,0-1.8-1.9-2-5H10C9.8,12.1,8.6,14,8,14z M6,7c0.2-3.1,1.3-5,2-5s1.8,1.9,2,5H6z M4.9,2.9 C4.4,4.1,4.1,5.5,4,7H2.1C2.4,5.3,3.4,3.8,4.9,2.9z M2.1,9H4c0.1,1.5,0.4,2.9,0.8,4.1C3.4,12.2,2.4,10.7,2.1,9z M11.1,13.1 c0.5-1.2,0.7-2.6,0.8-4.1h1.9C13.6,10.7,12.6,12.2,11.1,13.1z"></path></svg>',(t=this).element.insertAdjacentHTML("beforeend",'<button class="language-picker__button'+((a=t).element.getAttribute("data-trigger-class")?" "+a.element.getAttribute("data-trigger-class"):"")+'" aria-label="'+a.select.value+" "+a.element.getElementsByTagName("label")[0].textContent+'" aria-expanded="false" aria-controls="'+a.pickerId+'-dropdown">'+'<span aria-hidden="true" class="language-picker__label language-picker__flag language-picker__flag--'+a.select.value+'">'+a.globeSvgPath+"<em>"+a.selectedOption+"</em>"+a.arrowSvgPath+"</span>"+"</button>"+function(e){var t='<div class="language-picker__dropdown" aria-describedby="'+e.pickerId+'-description" id="'+e.pickerId+'-dropdown">';t=(t=t+'<p class="sr-only" id="'+e.pickerId+'-description">'+e.element.getElementsByTagName("label")[0].textContent+"</p>")+'<ul class="language-picker__list" role="listbox">';for(var a=0;a<e.options.length;a++){var n=e.options[a].selected?' aria-selected="true"':"",r=e.options[a].getAttribute("lang");t=t+'<li><a lang="'+r+'" hreflang="'+r+'" href="'+(e.options[a],"#")+'"'+n+' role="option" data-value="'+e.options[a].value+'" class="language-picker__item language-picker__flag language-picker__flag--'+e.options[a].value+'"><span>'+e.options[a].text+"</span></a></li>"}return t}(t)),t.dropdown=t.element.getElementsByClassName("language-picker__dropdown")[0],t.languages=t.dropdown.getElementsByClassName("language-picker__item"),t.firstLanguage=t.languages[0],t.trigger=t.element.getElementsByClassName("language-picker__button")[0],(r=(n=this).trigger.getElementsByTagName("svg"))[0].classList.add("icon"),r[1].classList.add("icon"),(i=n).element.getElementsByClassName("language-picker__list")[0].addEventListener("click",function(e){var t=e.target.closest(".language-picker__item");t&&(t.hasAttribute("aria-selected")&&"true"==t.getAttribute("aria-selected")?e.preventDefault():(e.preventDefault(),i.element.getElementsByClassName("language-picker__list")[0].querySelector('[aria-selected="true"]').removeAttribute("aria-selected"),t.setAttribute("aria-selected","true"),i.trigger.getElementsByClassName("language-picker__label")[0].setAttribute("class","language-picker__label language-picker__flag language-picker__flag--"+t.getAttribute("data-value")),i.trigger.getElementsByClassName("language-picker__label")[0].getElementsByTagName("em")[0].textContent=t.textContent),i.trigger.setAttribute("aria-expanded","false"))}),n.trigger.addEventListener("click",function(){s(n,!1)}),n.dropdown.addEventListener("keydown",function(e){e.keyCode&&38==e.keyCode||e.key&&"arrowup"==e.key.toLowerCase()?l(n,"prev"):(e.keyCode&&40==e.keyCode||e.key&&"arrowdown"==e.key.toLowerCase())&&l(n,"next")})};function s(t,e){var a,n,r;a=e||("true"==t.trigger.getAttribute("aria-expanded")?"false":"true"),t.trigger.setAttribute("aria-expanded",a),"true"==a&&(t.firstLanguage.focus(),t.dropdown.addEventListener("transitionend",function e(){t.firstLanguage.focus(),t.dropdown.removeEventListener("transitionend",e)}),r=(n=t).trigger.getBoundingClientRect(),n.dropdown.classList.toggle("language-picker__dropdown--right",window.innerWidth<r.left+n.dropdown.offsetWidth),n.dropdown.classList.toggle("language-picker__dropdown--up",window.innerHeight<r.bottom+n.dropdown.offsetHeight))}function l(e,t){var a,n=Array.prototype.indexOf.call(e.languages,document.activeElement);(n="next"==t?n+1:n-1)<0&&(n=e.languages.length-1),n>=e.languages.length&&(n=0),(a=e.languages[n]).focus(),document.activeElement!==a&&(a.setAttribute("tabindex","-1"),a.focus())}var t,a=document.getElementsByClassName("js-language-picker");if(0<a.length){for(var r=[],n=0;n<a.length;n++)t=n,r.push(new e(a[t]));window.addEventListener("keyup",function(e){(e.keyCode&&27==e.keyCode||e.key&&"escape"==e.key.toLowerCase())&&r.forEach(function(e){var t;"false"!=(t=e).trigger.getAttribute("aria-expanded")&&document.activeElement.closest(".language-picker__dropdown")==t.dropdown&&t.trigger.focus(),s(e,"false")})}),window.addEventListener("click",function(n){r.forEach(function(e){var t,a;t=e,a=n.target,t.element.contains(a)||s(t,"false")})})}}();